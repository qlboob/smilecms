// Generated by CoffeeScript 1.7.1
(function() {
  var jPriceRow, jTcId, priceDepend, showPrice, showTaocanDesc, v, _i, _len;

  jTcId = $('[name=tc_id]');

  showTaocanDesc = function() {
    return $('#tcDesc').html(__initData.descMap[jTcId.val()]);
  };

  jTcId.change(showTaocanDesc);

  showTaocanDesc();

  jPriceRow = $('#priceRow');

  priceDepend = ['ctp_id', 'prd_id', 'tc_id'];

  showPrice = function() {
    var find, isHide, priceItem, v, _i, _j, _k, _len, _len1, _len2, _ref;
    isHide = false;
    for (_i = 0, _len = priceDepend.length; _i < _len; _i++) {
      v = priceDepend[_i];
      if (!$("[name=" + v + "]").val()) {
        jPriceRow.addClass('hide');
        isHide = true;
        break;
      }
    }
    if (!isHide) {
      _ref = __initData.priceLists;
      for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
        priceItem = _ref[_j];
        find = true;
        for (_k = 0, _len2 = priceDepend.length; _k < _len2; _k++) {
          v = priceDepend[_k];
          if (priceItem[v] !== $("[name=" + v + "]").val()) {
            find = false;
            break;
          }
          if (find) {
            jPriceRow.removeClass('hide');
            $('#money').html('￥' + priceItem.prc_money / 100 + '元');
          }
        }
        if (find) {
          break;
        }
      }
      if (!find) {
        return jPriceRow.addClass('hide');
      }
    }
  };

  for (_i = 0, _len = priceDepend.length; _i < _len; _i++) {
    v = priceDepend[_i];
    $("[name=" + v + "]").change(showPrice);
  }

  showPrice();

}).call(this);
